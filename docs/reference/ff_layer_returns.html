<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Show or hide leaflet returns layer — ff_layer_returns • riceflows4ff</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Show or hide leaflet returns layer — ff_layer_returns"><meta property="og:description" content="Function to toggle the returns layer on an existing leaflet map."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- dependencies from examples --><script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet"><script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet"><script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet"><script src="libs/leaflet-binding-2.1.2/leaflet.js"></script><script src="libs/leaflet-providers-1.13.0/leaflet-providers_1.13.0.js"></script><script src="libs/leaflet-providers-plugin-2.1.2/leaflet-providers-plugin.js"></script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">riceflows4ff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/calcs.html">Calculation Functions</a>
    </li>
    <li>
      <a href="../articles/joins.html">Data Structure and Joins</a>
    </li>
    <li>
      <a href="../articles/model.html">Modeling Approach and Methods</a>
    </li>
    <li>
      <a href="../articles/plot.html">Static Maps and Plots</a>
    </li>
  </ul></li>
<li>
  <a href="https://flowwest.shinyapps.io/riceflows4ff/" class="external-link">Interactive Map and Data Download</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Show or hide leaflet returns layer</h1>
    
    <div class="hidden name"><code>ff_layer_returns.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to toggle the returns layer on an existing leaflet map.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ff_layer_returns</span><span class="op">(</span><span class="va">m</span>, show <span class="op">=</span> <span class="cn">TRUE</span>, selected_return <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>m</dt>
<dd><p>An initialized <code>leaflet</code> map object or <code>leafletProxy</code> object.</p></dd>


<dt>show</dt>
<dd><p>A boolean value indicating whether the function call will be adding the layer to the map (<code>TRUE</code>) or removing the layer from the map (<code>FALSE</code>). Designed to be changed via <code>shiny</code> checkbox input by calling the function inside an observer.</p></dd>


<dt>selected_return</dt>
<dd><p>The <code>return_id</code> of a return point to filter to, if desired.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># show the layer on a leaflet map object ("m")</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="ff_make_leaflet.html">ff_make_leaflet</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">|&gt;</span> <span class="fu">ff_layer_returns</span><span class="op">(</span>show <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<div id="htmlwidget-2d9ddff0f8a0771542a8" style="width:700px;height:432.632880098888px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-2d9ddff0f8a0771542a8">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["Basemap",400]},{"method":"createMapPane","args":["Watersheds",440]},{"method":"createMapPane","args":["WetDry",450]},{"method":"createMapPane","args":["Fields",460]},{"method":"createMapPane","args":["Flowlines",470]},{"method":"createMapPane","args":["Returns",480]},{"method":"addProviderTiles","args":["Stamen.Terrain",null,null,{"errorTileUrl":"","noWrap":true,"opacity":0.5,"detectRetina":false,"pane":"Basemap"}]},{"method":"addLegend","args":[{"colors":["#00688b","#8b1a1a"],"labels":["Direct (fish-bearing stream)","Indirect (secondary canal)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"Return types","extra":null,"layerId":"legend_return_type","className":"info legend","group":"returns-canals-streams"}]},{"method":"removeMarker","args":[["R1","R2","R3","R4","R5","R6","R7","R8","R9","R10","R11","R12","R13","R14","R15","R16","R17","R18","R19","R20","R21","R22","R23","R24","R25","R26","R27","R28","R29","R30","R31","R32","R33","R34","R35","R36","R37","R38"]]},{"method":"addCircleMarkers","args":[[38.17767882075891,38.78058984540156,38.79946665627951,38.86217755376025,39.06875600598192,38.78270502011574,38.99727859722659,38.88702555352454,38.72151784264737,38.80169865812502,39.28581091544199,39.35480355284965,39.33744376328914,39.30113047583726,39.23362107801253,38.64758862838677,38.51552935404616,38.53004894765714,38.3145696732531,38.67685975381543,39.11487321352991,39.21708235302278,39.31450241955498,39.26392475134323,39.20301709875275,39.34154431118355,39.35745830619808,39.01858282000978,38.84476210046208,38.82923209669443,38.86638155356133,38.85232384766692,38.72551894689612,38.59982715368801,39.11541862459409,39.32918093934378,39.47724395269302,38.96988762008188],[-121.6671759322464,-121.6041210460609,-121.7250056991666,-121.7928659982405,-121.8628256042948,-121.6313955326456,-121.7170934604325,-121.6135909321491,-121.6645065708208,-121.7247232376991,-121.9219090534221,-121.8826071316414,-121.8970244420246,-121.9230626575885,-121.943496478368,-121.6246915182258,-121.5888089321481,-121.589305009788,-121.6551588054374,-121.6440575320532,-122.0185129596644,-122.0883839978466,-122.0791881312138,-122.0977098607789,-122.0696696539832,-122.0845519718312,-122.0825714425904,-121.5927957988795,-121.5746019853513,-121.5311721025725,-121.524314932337,-121.5241338539814,-121.6047820094489,-121.4802755324286,-121.7661850627754,-121.8807039076834,-121.7360379986407,-121.5450439989746],4,["R1","R2","R3","R4","R5","R6","R7","R8","R9","R10","R11","R12","R13","R14","R15","R16","R17","R18","R19","R20","R21","R22","R23","R24","R25","R26","R27","R28","R29","R30","R31","R32","R33","R34","R35","R36","R37","R38"],"returns-canals-streams",{"interactive":true,"className":"","pane":"Returns","stroke":false,"color":["#00688B","#00688B","#00688B","#00688B","#00688B","#00688B","#8B1A1A","#00688B","#8B1A1A","#00688B","#00688B","#8B1A1A","#00688B","#8B1A1A","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#00688B","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#00688B"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#00688B","#00688B","#00688B","#00688B","#00688B","#00688B","#8B1A1A","#00688B","#8B1A1A","#00688B","#00688B","#8B1A1A","#00688B","#8B1A1A","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#8B1A1A","#00688B","#00688B","#8B1A1A","#8B1A1A","#8B1A1A","#00688B"],"fillOpacity":1},null,null,null,null,["<strong>Return point 1: Sacramento River Deep Water Ship Channel<\/strong><br />Direct return to North Delta","<strong>Return point 9: Sankey Diversion<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 10: Knights Landing Outfall Gates<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 11: Rough and Ready Pumping Plant<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 12: Drainage Pumping Plant RD 70<\/strong><br />Direct return to Upper-mid Sacramento River","<strong>Return point 16: Karnak Drainage Facility<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 20: Gilsizer Slough to East Borrow Ditch<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 21: Sutter Bypass to Feather River<\/strong><br />Direct return to Feather River","<strong>Return point 22: Wallace Weir<\/strong><br />Indirect return to North Delta","<strong>Return point 23: Fair Ranch Return<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 24: Cherokee Canal to Butte<\/strong><br />Direct return to Butte Creek","<strong>Return point 32: North Lower Butte to Cherokee Canal<\/strong><br />Indirect return to Butte Creek","<strong>Return point 33: Angel Slough to Lower Butte Creek<\/strong><br />Direct return to Butte Creek","<strong>Return point 34: Drumheller Slough<\/strong><br />Indirect return to Butte Creek","<strong>Return point 35: Lower Butte Creek Drains<\/strong><br />Direct return to Butte Creek","<strong>Return point 39: Willow Slough to Tule Canal<\/strong><br />Indirect return to North Delta","<strong>Return point 40: Putah Creek to Toe Drain<\/strong><br />Indirect return to North Delta","<strong>Return point 41: Knights Landing to Toe Drain<\/strong><br />Indirect return to North Delta","<strong>Return point 42: Cache Slough to Toe Drain<\/strong><br />Indirect return to North Delta","<strong>Return point 43: Lower Cache Creek to Tule Canal<\/strong><br />Indirect return to North Delta","<strong>Return point 44: Colusa Trough to Colusa Trough Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 45: Colusa Trough to Colusa Trough Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 46: Colusa Trough to Colusa Trough Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 47: Stone Corral Creek to Colusa Trough Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 48: Freshwater Creek to Colusa Trough Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 49: Logan Creek to Colusa Trough<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 50: Willow Creek to Colusa Drain<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 51: Lower Feather to Feather River<\/strong><br />Direct return to Feather River","<strong>Return point 52: Coon Creek to Main Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 53: Pleasant Grove Creek to Natomas Cross Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 54: Pleasant Grove Creek to East Side Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 55: Auburn Ravine to East Side Canal<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 56: Curry Creek to Sacramento River<\/strong><br />Direct return to Lower-mid Sacramento River","<strong>Return point 57: Steelhead Creek to American River<\/strong><br />Direct return to American River","<strong>Return point 58: Gilsizer Slough to East Borrow Ditch<\/strong><br />Indirect return to Lower-mid Sacramento River","<strong>Return point 59: Main Drainage to Cherokee Canal<\/strong><br />Indirect return to Butte Creek","<strong>Return point 60: Western Canal to Cherokee Canal<\/strong><br />Indirect return to Butte Creek","<strong>Return point 13: Lower Bear River to Bear River<\/strong><br />Direct return to Bear River"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"fitBounds":[38.5,-122.3,39.7,-121.3,[]],"limits":{"lat":[38.17767882075891,39.47724395269302],"lng":[-122.0977098607789,-121.4802755324286]}},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># hide the layer on a leaflet map object ("m")</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">|&gt;</span> <span class="fu">ff_layer_returns</span><span class="op">(</span>show <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<div id="htmlwidget-4b8cf148fb3193bea755" style="width:700px;height:432.632880098888px;" class="leaflet html-widget "></div>
<script type="application/json" data-for="htmlwidget-4b8cf148fb3193bea755">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["Basemap",400]},{"method":"createMapPane","args":["Watersheds",440]},{"method":"createMapPane","args":["WetDry",450]},{"method":"createMapPane","args":["Fields",460]},{"method":"createMapPane","args":["Flowlines",470]},{"method":"createMapPane","args":["Returns",480]},{"method":"addProviderTiles","args":["Stamen.Terrain",null,null,{"errorTileUrl":"","noWrap":true,"opacity":0.5,"detectRetina":false,"pane":"Basemap"}]},{"method":"addLegend","args":[{"colors":["#00688b","#8b1a1a"],"labels":["Direct (fish-bearing stream)","Indirect (secondary canal)"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"Return types","extra":null,"layerId":"legend_return_type","className":"info legend","group":"returns-canals-streams"}]},{"method":"removeMarker","args":[["R1","R2","R3","R4","R5","R6","R7","R8","R9","R10","R11","R12","R13","R14","R15","R16","R17","R18","R19","R20","R21","R22","R23","R24","R25","R26","R27","R28","R29","R30","R31","R32","R33","R34","R35","R36","R37","R38"]]}],"fitBounds":[38.5,-122.3,39.7,-121.3,[]]},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use as part of a Shiny app with map "mainMap" and a boolean selector "show_returns"</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">proxy</span> <span class="op">&lt;-</span> <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leafletProxy.html" class="external-link">leafletProxy</a></span><span class="op">(</span><span class="st">"mainMap"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">proxy</span> <span class="op">|&gt;</span> <span class="fu">ff_layer_returns</span><span class="op">(</span>show <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">show_returns</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="mailto:bhackenjos@gmail.com">Bethany Hackenjos</a>, <a href="mailto:slewis@flowwest.com">Skyler Lewis</a>, <a href="mailto:ipeng@flowwest.com">Inigo Peng</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

